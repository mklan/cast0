{"version":3,"sources":["index.ts"],"names":[],"mappings":"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","file":"receiver.77de5100.js","sourceRoot":"../../src/receiver","sourcesContent":["var castReceiverManager = null;\nvar messageBus = null;\n\n// @ts-ignore\nlet cast;\n\nfunction initializeCast(googleCastonf) {\n  cast = googleCastonf.cast;\n  cast.receiver.logger.setLevelValue(cast.receiver.LoggerLevel.DEBUG);\n  castReceiverManager = cast.receiver.CastReceiverManager.getInstance();\n\n  castReceiverManager.onReady = function(evt) {\n    log2('onReady / data: ' + JSON.stringify(evt.data));\n    castReceiverManager.setApplicationState('application status: onready');\n  }\n\n  castReceiverManager.onSenderConnected = function(evt) {\n    log2('onSenderConnected / data: ' + JSON.stringify(evt.data) + ' / userAgent: ' + castReceiverManager.getSender(evt.data).userAgent);\n  }\n\n  castReceiverManager.onSenderDisconnected = function(evt) {\n    log2('onSenderDisconnected / data: ' + JSON.stringify(evt.data));\n    if (castReceiverManager.getSenders().length == 0) {\n      log2('close ');\n      close();\n    }\n  }\n\n  castReceiverManager.onSystemVolumeChanged = function(evt) {\n    log2('onSystemVolumeChanged / data: ' + JSON.stringify(evt.data));\n  }\n\n  messageBus = castReceiverManager.getCastMessageBus(googleCastonf.namespace);\n\n  messageBus.onMessage = function(evt) {\n    log2('onMessage / from: ' + evt.senderId + ' / data: ' + JSON.stringify(evt.data));\n    receiveMessage(evt.senderId, evt.data);\n  }\n\n  log2('receiver manager started.');\n  castReceiverManager.start({statusText: 'application status: starting'});\n\n}\n\nfunction receiveMessage(id, data) {\n}\n\nfunction sendMessage(id, data) {\n  messageBus.send(id, data);\n}\n\nfunction log2(obj) {\n  var elem = document.createElement('div');\n  elem.textContent = JSON.stringify(obj);\n  document.getElementById('display').appendChild(elem);\n}\n\nfunction initialize(cast) {\n  console.log('cast', cast)\n  initializeCast({ cast, namespace: 'urn:x-cast:cast0'});\n}\n\n\nglobalListener('cast', initialize)\n\nfunction globalListener(varName, cb) {\n  // @ts-ignore\n  setTimeout(() => {\n    if(window[varName]) {\n      return cb(window[varName]);\n    }\n    return globalListener(varName, cb)\n  }, 500);\n}"]}