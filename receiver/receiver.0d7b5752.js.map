{"version":3,"sources":["index.ts"],"names":[],"mappings":";AAAA,IAAI,EAAsB,KACtB,EAAa,KAGX,EAAO,OAAO,KAEpB,SAAS,EAAe,GAEtB,EAAK,SAAS,OAAO,cAAc,EAAK,SAAS,YAAY,QAC7D,EAAsB,EAAK,SAAS,oBAAoB,eAEpC,QAAU,SAAS,GACrC,EAAK,mBAAqB,KAAK,UAAU,EAAI,OAC7C,OAAO,oBAAoB,oBAAoB,gCAGjD,EAAoB,kBAAoB,SAAS,GAC/C,EAAK,6BAA+B,KAAK,UAAU,EAAI,MAAQ,iBAAmB,OAAO,oBAAoB,UAAU,EAAI,MAAM,YAGnI,EAAoB,qBAAuB,SAAS,GAClD,EAAK,gCAAkC,KAAK,UAAU,EAAI,OACJ,GAAlD,OAAO,oBAAoB,aAAa,SAC1C,EAAK,iBACL,OAAO,UAIX,EAAoB,sBAAwB,SAAS,GACnD,EAAK,iCAAmC,KAAK,UAAU,EAAI,SAG7D,EAAa,OAAO,oBAAoB,kBAAkB,EAAc,YAE7D,UAAY,SAAS,GAC9B,EAAK,qBAAuB,EAAI,SAAW,YAAc,KAAK,UAAU,EAAI,OAC5E,EAAe,EAAI,SAAU,EAAI,OAGnC,EAAK,6BACL,OAAO,oBAAoB,MAAM,CAAC,WAAY,iCAIhD,SAAS,EAAe,EAAI,IAG5B,SAAS,EAAY,EAAI,GACvB,EAAW,KAAK,EAAI,GAGtB,SAAS,EAAK,GACR,IAAA,EAAO,SAAS,cAAc,OAClC,EAAK,YAAc,EACnB,SAAS,eAAe,WAAW,YAAY,GAGjD,SAAS,IACP,EAAe,CAAE,UAAW,qBAGxB,IAAA,EAAO,SAAS,eAAe,SACjC,EAAK,mBACP,EAAK,oBAIP,OAAO,iBAAiB,OAAQ","file":"receiver.0d7b5752.js","sourceRoot":"../../src/receiver","sourcesContent":["var castReceiverManager = null;\nvar messageBus = null;\n\n// @ts-ignore\nconst cast = window.cast;\n\nfunction initializeCast(googleCastonf) {\n\n  cast.receiver.logger.setLevelValue(cast.receiver.LoggerLevel.DEBUG);\n  castReceiverManager = cast.receiver.CastReceiverManager.getInstance();\n\n  castReceiverManager.onReady = function(evt) {\n    log2('onReady / data: ' + JSON.stringify(evt.data));\n    window.castReceiverManager.setApplicationState('application status: onready');\n  }\n\n  castReceiverManager.onSenderConnected = function(evt) {\n    log2('onSenderConnected / data: ' + JSON.stringify(evt.data) + ' / userAgent: ' + window.castReceiverManager.getSender(evt.data).userAgent);\n  }\n\n  castReceiverManager.onSenderDisconnected = function(evt) {\n    log2('onSenderDisconnected / data: ' + JSON.stringify(evt.data));\n    if (window.castReceiverManager.getSenders().length == 0) {\n      log2('close window.');\n      window.close();\n    }\n  }\n\n  castReceiverManager.onSystemVolumeChanged = function(evt) {\n    log2('onSystemVolumeChanged / data: ' + JSON.stringify(evt.data));\n  }\n\n  messageBus = window.castReceiverManager.getCastMessageBus(googleCastonf.namespace);\n\n  messageBus.onMessage = function(evt) {\n    log2('onMessage / from: ' + evt.senderId + ' / data: ' + JSON.stringify(evt.data));\n    receiveMessage(evt.senderId, evt.data);\n  }\n\n  log2('receiver manager started.');\n  window.castReceiverManager.start({statusText: 'application status: starting'});\n\n}\n\nfunction receiveMessage(id, data) {\n}\n\nfunction sendMessage(id, data) {\n  messageBus.send(id, data);\n}\n\nfunction log2(message) {\n  var elem = document.createElement('div');\n  elem.textContent = message;\n  document.getElementById('display').appendChild(elem);\n}\n\nfunction initialize() {\n  initializeCast({ namespace: 'urn:x-cast:cast0'});\n\n  //fullscreen\n  var elem = document.getElementById(\"local\");\nif (elem.requestFullscreen) {\n  elem.requestFullscreen();\n}\n}\n\nwindow.addEventListener('load', initialize);"]}